# 3과목. 운영체제

## 3-1 기억장치

- 데이터, 프로그램, 연산의 중간 결과 등을 일시적 영구적으로 저장하는 장치
- 종류
  - 레지스터 : CPU 내부에 존재
  - 캐시메모리 : CPU가 주기억장치에 접근할 때 속도 차이를 줄이기 위해 사용
  - 주기억장치 : CPU가 직접 데이터를 읽고 쓸 수 있는 장치
  - 보조기억장치 : 접근 시간은 느리지만 용량이 크다



## 3-2 시스템 소프트웨어

- 응용 소프트웨어를 실행하기 위한 플랫폼 제공
- 구성
  - 제어`감작데`
    - 감시 프로그램
    - 작업관리 프로그램
    - 데이터 관리 프로그램
  - 처리
    - 서비스 프로그램
    - 문제 프로그램
    - 언어 번역 프로그램



## 3-3 운영체제

- 응용프로그램이 실행되는 과정에서 하드웨어들을 제어해 응용프로그램을 실행, 실행 결과를 보일 수 있도록 내부 동작을 관리하는 SW
- 운용 기법
  - 일괄 처리 시스템
  - 다중 프로그래밍 시스템
  - 시분할 시스템
  - 다중 처리 시스템
  - 실시간 처리 시스템
  - 다중 모드 시스템
  - 분산 처리 시스템
- 성능 평가 기준
  - 처리량(Throughput)
  - 경과시간(Turn Around Time)
  - 응답시간(Response Time)
  - 자원사용량(Resource Usage)
  - 신뢰도
  - 사용 가능도
- UNIX
  - 구성
    - 커널	
      - 가장 핵심적인 부분
      - 부팅될 때, 주기억장치에 적재된 후 상주하면서 실행
    - 쉘
      - 명령어 해석기
      - 인터페이스 담당
    - Utility Program
      - 응용 프로그램을 처리하는데 사용
  - 파일 시스템
    - 부트 블록
      - 부팅 시 필요한 코드를 저장
    - 슈퍼 블록
      - 전체 파일 시스템에 대한 정보
    - I-node 블록
      - 각 파일에 대한 정보를 저장
    - 데이터 블록
    - 실제 파일에 대한 데이터가 저장된 블록
- 파일 디스크립터
  - 프로세스가 파일들을 접근할 때 이용



## 3-4 메모리 관리

- 기억장치 관리 전력
  - 반입(Fetch) 전략
    - 요구 반입 - 실행중인 프로그램이 특정 데이터의 참조를 요구할 때 적재
    - 예상 반입 - 실행중인 프로그램에 의해 참조될 데이터를 미리 예상해 적재
  - 배치 전략
    - 최초 적합 - 데이터가 들어갈 수 있는 크기의 빈 영역 중에서 첫 번째 분할 영역에 배치
    - 최적 적합 - 빈 영역중에서 단편화를 가장 작게 남기는 분할 영역에 배치
    - 최악 적합 - 빈 영역중에서 단편화를 가장 크게 남기는 분할 영역에 배치
  - 교체 전략
    - FIFO (First In First Out) : 가장 먼저 메모리에 적재된 페이지를 교체하는 기법
    - OPT (예측) : 앞으로 가장 사용안 될 페이지를 교체
    - LRU (최근 사용하지 않은) : 최근에 가장 오랫동안 사용되지 않은 페이지를 교체
    - LFU (빈도수) : 사용 빈도가 가장 적은 페이지를 교체
    - NUR (참조비트, 변형비트)
    - SCR (FIFO 개선)



## 3-5 단편화

- 주기억장치에 프로그램을 할당하고 반납하는 과정에서 발생하는 사용되지 않는 작은 조각 공간
  - 내부 단편화 : 주기억장치 공간 > 프로그램 크기 : 사용되지 않고 남아있는 공간
  - 외부 단편화 : 주기억장치 공간 < 프로그램 크기 : 프로그램이 할당될 수 없어 사용되지 않고 남아있는 공간
- 해결 방법
  - 통합 기법 : 인접해 있는 두 개의 분할 공간을 하나로 통합
  - 압축 기법 : 분산되어 있는 단편화 공간들을 통합해 하나의 커다란 빈 공간을 만드는 작업
  - 재배치 기법 : 압축을 실행하는 중 프로그램 주소를 새롭게 지정해주는 기법



## 3-6 가상 기억 장치

- 보조기억장치의 일부를 주기억장치처럼 사용
- 블록 분할 방법
  - 페이징 기법 : 가상기억장치를 모두 같은 크기의 블록으로 편성 : 내부 단편화 발생
  - 세그먼테이션 기법 : 가상 메모리를 서로 크기가 다른 논리적 단위인 세그먼트로 분할하고 메모리를 할당 : 외부 단편화 발생
- 페이지 부재
  - 프로세스 실행 시 참조할 페이지가 주기억 장치에 없는 현상
- 지역성(Locality)
  - 프로세스 실행간 주기억장치를 참조할 때 일부 페이지만 집중적으로 참조하는 성질
- 워킹 셋
  - 프로세스가 일정 시간 동안 자주 참조하는 페이지들의 집합 (지역성을 참조해서 워킹 셋을 만듦)
- 쓰레싱
  - 프로세스의 처리 시간보다 페이지 교체에 소요되는 시간이 더 많아지는 현상



## 3-7 프로세스

- 컴퓨터에서 연속적으로 실행되고 있는 프로그램



- 스레드
  - 프로세스 내에서 실행되는 흐름의 단위
  - 프로그램은 하나 이상의 프로세스를 가지고 있고 하나의 프로세스는 반드시 하나 이상의 스레드를 갖는다



- 메모리상의 프로세스 영역
  - 코드 영역
    - 실행할 프로그램의 코드가 저장되는 영역
  - 데이터 영역
    - 전역변수와 정적변수가 할당되는 부분
  - 힙 영역
    - 프로그래머가 할당/해제하는 메모리 공간
  - 스택 영역
    - 프로그램이 자동으로 사용하는 임시 메모리 영역



- 프로세스 상태 전이
  - 준비 -> 실행 : 디스패치
  - 실행 -> 준비 : 타임 런아웃
  - 대기 -> 준비 : 웨이크업



- PCB(프로세스 제어 블록)
  - 운영체제가 프로세스에 대한 정보를 저장해 놓는 공간
- 문맥 교환
  - 프로세스 상태를 PCB에 보관하고 또 다른 프로세스의 정보를 PCB에서 읽어 레지스터에 적재하는 과정



## 3-8 프로세스 스케줄링

- 스케줄링
  - 메모리에 올라온 프로세스들 중 어떤 프로세스를 먼저 처리할지 순서를 정하는 것
- 목적
  - 공평성, 효율성, 안정성, 반응 시간 보장, 무한 연기 보장

- 기법
  - 선점형 : 실행 중이더라도 운영체제가 CPU를 강제로 뻇을 수 있다
    - Round-Robin, SRT, 다단계 큐, 다단계 피드백 큐 등
  - 비선점형 : 프로세스가 CPU를 점유하고 있다면 빼앗을 수 없는 방식
    - FCFS, SJF, HRN, 우선순위, 기한부



## 3-9 병행 프로세스와 교착상태

- 병행 프로세스
  - 두 개 이상의 프로세스들이 동시에 존재하며 실행 상태에 있는 것
- 문제점
  - 한정된 자원에 대한 사용 순서 등 여러 가지 문제가 발생
- 해결책
  - 임계 구역 : 공유 자원에 대해서,  한 순간에 하나의 프로세스만 사용되도록 지정한 영역
  - 상호배제 기법 : 공유 메모리, 파일을 사용하고 있을 때 다른 프로세스들이 사용하지 못하도록 배제시키는 제어 기법
  - 동기화 기법 : 스레드들에게 하나의 자원에 대한 처리 권한을 주거나 순서를 조정
    - 세마포어 : 제어 신호를 전달해 순서대로 작업을 수행하도록 하는 기법(P, V 연산에 의해 동기화 유지, 상호 배제 원리 보장)
    - 모니터 : 프로그래밍 언어 수준에서 동시성을 제어해 타이밍 오류를 해결한 상호 배제 기법

- 교착상태
  - 상호 배제에 의해 나타나는 문제점, 둘 이상 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 요구하며 대기하는 현상
  - 발생조건`상점비환`
    - 상호배제 : 한 번에 한 개의 프로세스만이 공유자원을 사용
    - 점유와 대기 : 자원을 점유하고 있으면서 다른 프로세스 자원을 요구하며 대기
    - 비선점 : 할당된 자원은 사용이 끝날 때까지 강제로 뺴앗을 수 없음
    - 환형대기 : 각 프로세스가 순차적으로 다음 프로세스가 요구하고 있는 자원을 가지고 있는 상태
  - 해결방법
    - 예방 기법
    - 회피 기법 : 은행원 알고리즘
    - 발견 기법
    - 회복 기법



## 3-10 디스크 스케줄링

- 사용할 데이터가 여러 곳에 저장되어 있을 경우 데이터를 액세스하기 위해 디스크 헤드를 움직이는 경로를 결정하는 기법
- 종류 
  - FCFS : 요청이 들어온 순서대로 처리
  - SSTF : 현재 헤드에서 가장 가까운 트랙의 요청을 먼저 처리 : Shortest Seek Time First
  - SCAN : 진행방향에 있는 요청을 처리하고, 다시 반대 방향으로 틀어 요청들을 처리
  - C-SCAN : 항상 한쪽 방향에서 반대방향으로 진행하며 트랙 요청 처리
  - LOOK : SCAN기초, 진행 방향의 마지막 요청을 처리하고 반대방향으로
  - C-LOOK : C-SCAN기초, 안쪽 방향의 모든 요청 처리 후 다시 안쪽으로 서비스
  - N-STEP SCAN : 대기하고 있는 요청들을 처리, 과정 중 들어오는 것들은 모아서 반대방향에서 처리
  - 에션바흐 : 항공 예약 시스템을 위해 개발, 탐색 시간과 회전 지연시간을 최적화하기 위한 최초의 기법



## 3-10 환경변수

- 프로세스가 컴퓨터에서 동작하는 방식에 영향을 미치는 동적인 값들의 모임
- UNIX/LINUX 환경변수
  - env, set, printing 환경변수와 그외 모든 값을 볼 수 있다
  - export 사용자 환경변수를 전역 변수로 설정할 수 있다



## 3-11 로그파일

- 시스템의 모든 기록을 담고 있는 데이터
- 정보
  - 외부로부터의 침입 감지 및 추적
  - 시스템 성능관리
  - 마케팅 전략으로 활용
  - 시스템 장애 원인 분석
  - 시스템 취약 분석